<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assignment 11</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <section class="py-10 bg-rose-300">
      <div class="2xl:container mx-auto">
        <div class="w-[25%] mx-auto">
          <form id="updatePasswordForm">
            <div class="flex flex-col justify-center h-screen">
              <p class="text-stone-900 text-3xl mb-8">Update Password</p>
              <label class="text-stone-900 text-xl">New Password</label>
              <input
                type="password"
                id="newPassword"
                class="border-2 border-gray-300 rounded-md p-2 mb-1"
                placeholder="Enter new password"
              />
              <p id="newPasswordErrMsg" class="text-red-600 text-sm mb-2"></p>
              <label class="text-stone-900 text-xl">Confirm Password</label>
              <input
                type="password"
                id="confirmPassword"
                class="border-2 border-gray-300 rounded-md p-2 mb-1"
                placeholder="Confirm new password"
              />
              <p
                id="confirmPasswordErrMsg"
                class="text-red-600 text-sm mb-2"
              ></p>
              <div class="flex justify-center">
                <button
                  id="updateBtn"
                  type="submit"
                  class="bg-blue-600 text-white font-bold rounded-md hover:bg-rose-600 px-6 py-2"
                >
                  Update
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>
    <script>
      const newPassword = document.getElementById("newPassword");
      const confirmPassword = document.getElementById("confirmPassword");
      const newPasswordErrMsg = document.getElementById("newPasswordErrMsg");
      const confirmPasswordErrMsg = document.getElementById(
        "confirmPasswordErrMsg"
      );
      const form = document.getElementById("updatePasswordForm");

      function validateNewPassword() {
        if (newPassword.value.trim() === "") {
          newPasswordErrMsg.textContent = "Please enter a new password";
        } else {
          newPasswordErrMsg.textContent = "";
        }
      }

      function validateConfirmPassword() {
        if (confirmPassword.value.trim() === "") {
          confirmPasswordErrMsg.textContent = "Please confirm your password";
        } else if (newPassword.value !== confirmPassword.value) {
          confirmPasswordErrMsg.textContent = "Passwords do not match";
        } else {
          confirmPasswordErrMsg.textContent = "";
        }
      }

      newPassword.addEventListener("blur", validateNewPassword);
      confirmPassword.addEventListener("blur", validateConfirmPassword);

      form.addEventListener("submit", function (e) {
        validateNewPassword();
        validateConfirmPassword();
        if (
          newPassword.value.trim() === "" ||
          confirmPassword.value.trim() === ""
        ) {
          e.preventDefault();
        }
      });
    </script>
  </body>
</html>
